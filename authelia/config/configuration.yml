server:
  address: 'tcp://0.0.0.0:9091'

log:
  level: info
  file_path: '/var/log/authelia/authelia.log'
  keep_stdout: true

identity_validation:
  elevated_session:
    require_second_factor: true
  reset_password:
    jwt_lifespan: '5 minutes'
    jwt_secret: {{ secret "/secrets/jwt_secret.txt" | mindent 0 "|" | msquote }}

totp:
  disable: true
  issuer: 'feignman.online'
  period: 30
  skew: 1

password_policy:
  zxcvbn:
    enabled: true
    min_score: 3

authentication_backend:
  file:
    path: '/config/users.yml'
    password:
      algorithm: 'argon2'
      argon2:
        variant: 'argon2id'
        iterations: 3
        memory: 65535
        parallelism: 4
        key_length: 32
        salt_length: 16

access_control:
  default_policy: 'one_factor'
  rules:
    - domain: 'traefik.feignman.online'
      policy: 'one_factor'

session:
  name: 'feignman.online'
  secret: {{ secret "/secrets/session_secret.txt" | mindent 0 "|" | msquote }}
  cookies:
    - domain: 'feignman.online'
      authelia_url: 'https://auth.feignman.online'

regulation:
  max_retries: 4
  find_time: 120
  ban_time: 300

storage:
  encryption_key: {{ secret "/secrets/storage_encryption_key.txt" | mindent 0 "|" | msquote }}
  local:
    path: '/config/db.sqlite3'

# notifier:
#   disable_startup_check: false
#   filesystem:
#     filename: '/config/notification.txt'
notifier:
  smtp:
    address: 'submission://smtp.gmail.com:587'
    username: 'ishanaditya@gmail.com'
    # Password can also be set using a secret: https://www.authelia.com/configuration/methods/secrets/
    password: {{ secret "/secrets/smtp_password.txt" | mindent 0 "|" | msquote }}
    sender: 'Authelia <admin@feignman.online>'
    subject: "[Authelia] {title}"
